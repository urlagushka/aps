# Архитектура программных систем
## Вариант 10
- Источники:
  - ИБ - бесконечный
  - И32 - равномерный
- Приборы:
  - П31 -экспоненциальный
- Функции диспетчера:
  - Д1033 - Буферизации. Постановка заявки на свободное место.
  - Заявка встанет в очередь на первое от начала свободное место, если такое найдется. Сдвига очереди в этом случае не происходит.
  - Д10О2 - Отказ. Приоритет по номеру источника. При этой дисциплине отказ получает заявка с наименьшим приоритетом среди тех, что на данный момент находятся в БП (приоритет заявки определяется номером источника, который её сгенерировал). Если к этому времени в буфере имеется несколько заявок от источника с минимальным приоритетом, то встаёт вопрос, какую из этих заявок отправить в отказ.
  При этом необходимо вспомнить, что заявка имеет две характеристики: номер источника и время генерации. В нашем случае первая характеристика у этих заявок одинаковая и различаются они только временем генерации. Если в рассматриваемой ВС выбор заявки на обслуживание происходит по времени (FIFO, LIFO), то это может оказаться подсказкой для определения очерёдности при отказе.
  - Д2П2 - Выбор обслуживающего прибора. По кольцу
- Функции буферизации:
  - Д2Б5 - приоритет по номеру источника, заявки в пакете. Назовем  «пакетом»  совокупность  заявок  одного  источника, находящихся в буфере на момент освобождения одного из приборов. Количество  пакетов  в  БП  может  меняться от 0 до n, где n — количество источников.
  Когда при освобождении прибора происходит выбор первой заявки из буфера, вначале определяется самый приоритетный на данный момент пакет и происходит обслуживание заявок только этого пакета до тех пор, пока к моменту очередного освобождения прибора в БП не останется ни одной заявки этого пакета. Затем снова определяется самый приоритетный на данный момент пакет и далее повторяется весь процесс обслуживания этого пакета. Таким образом, происходит динамическая смена приоритетов обслуживания заявок, причем приоритетность пакетов можно регулировать, изменяя интенсивность генерации заявок источниками.
- Вывод метрик
  - ОР1 - сводная таблица результатов
  - ОД2 - формализованная схема модели, текущее состояние
## Домен
Портал для конвертации видеофайлов: 
  1) Пользователь заходит на портал, загружает файл.
  2) Указывает параметры конвертации и запускает процесс.
  3) Файл помещается в очередь, если в ней есть свободное место.
  4) Если очередь заполнена, файлы пользователей без подписки могут быть вытеснены.
  5) В момент освобождения конвертора система управления очередью передает ему следующий файл, начиная с наиболее приоритетного.
  6) Конвертор обрабатывает файл (время обработки зависит от размера и статуса подписки пользователя).
  7) Готовый файл возвращается пользователю.
## Маппимнг СМО на домен
  1) Заявка - пользователь с загруженным файлом.
  2) Источник - поток пользователей с файлами (равноменый).
  3) Диспетчер постановки - система управления очередью.
  4) Буфер - очередь файлов (структура данных).
  5) Диспетчер выборки - система распределения заявок между конверторами (выбор прибора по кольцу).
  6) Прибор - конвертор (размер файла | подписка пользователя -> время обработки файла экспоненциальное).

## Диаграмма классов
![classdg](https://github.com/urlagushka/aps/blob/main/classdg.png)

## BPMN
![bpmn](https://github.com/urlagushka/aps/blob/main/bpmn.png)

## Sequence
![sequence](out/sequence.png)
